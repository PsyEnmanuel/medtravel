import{ax as I,r as S,n as Q,q as R,k as B,w as P,t as m,v,x as s,y as i,z as t,Q as U,A as y,F as n,B as p,E as _,G as W,D as k,H as u,I as z,J as N,aA as g,K as E,b6 as T,L as c,M as b,b7 as x,a$ as L,R as A,S as M}from"./index.6dfca1d0.js";const j={class:"flex justify-between md:flex-nowrap mb-2"},F={class:"flex flex-nowrap w-full gap-2"},G={key:0,class:"grid grid-flow-col auto-cols-max gap-2"},H={class:"full-width row flex-center text-primary q-gutter-sm"},J={class:"flex flex-col"},K={class:"flex flex-col"},O=["href"],X={class:"flex flex-col"},Y=["href"],Z={class:"flex gap-2"},ae={__name:"provider-index",setup(ee){const{t:r}=I(),d=S(),a=Q({dialogImport:!1,dialogWrite:!1,dialogList:!1,dialogCreate:!1,selectedId:0,dialogWidth:400,selected:[],search:"",search_key:"orlike:description",pagination:{sortBy:"description",descending:!1,page:1,rowsPerPage:20},url:"provider",query:{groupBy:["t_provider.id"],where:{c_status:4}},columns:[{name:"action",required:!0,label:"",align:"left",field:r("id"),classes:"w-[230px]"},{name:"description",required:!0,label:r("name"),align:"left",field:"description",classes:"w-[250px]",sortable:!0},{name:"provider_type",required:!0,label:r("provider_type"),align:"left",field:"provider_type",sortable:!0},{name:"country",required:!0,label:r("country"),align:"left",field:"country",sortable:!0},{name:"city",required:!0,label:r("city"),align:"left",field:"city",sortable:!0},{name:"phone",required:!0,label:r("phone"),align:"left",field:"phone",sortable:!0},{name:"address",required:!0,label:r("address"),align:"left",field:"address",sortable:!0},{name:"webpage",required:!0,label:r("webpage"),align:"left",field:"webpage",classes:"max-w-[200px]",sortable:!0},{name:"link_gps",required:!0,label:r("link_gps"),align:"left",field:"link_gps",classes:"max-w-[200px]",sortable:!0}],rows:[]}),{onRequest:$,getSelectedString:h,onDeleteRows:C,addMore:q,itemsRange:w}=R(a,d),V=B();return P(()=>V.table.t_provider,o=>{d.value.requestServerInteraction(),d.value.clearSelection()},{deep:!0}),(o,l)=>(m(),v(M,{class:A(o.insuredId?"px-2 py-3":"px-1.5 py-2 lg:px-5 lg:py-6")},{default:s(()=>[i("div",j,[i("div",F,[t(U,{class:"w-full md:w-auto",dense:"",outlined:"",debounce:"300",modelValue:a.search,"onUpdate:modelValue":l[0]||(l[0]=e=>a.search=e),placeholder:o.$t("search")},{append:s(()=>[t(y,{name:"search"})]),_:1},8,["modelValue","placeholder"]),a.selected.length?(m(),v(n,{key:0,flat:"",class:"button h-full bg-primary text-white","icon-right":"sym_o_remove",label:o.$isDesktop?"Remover":"","no-caps":"",onClick:p(C)},null,8,["label","onClick"])):_("",!0)]),o.$isDesktop?(m(),W("div",G,[t(n,{class:"bg-transparent",flat:"","no-caps":""},{default:s(()=>[k(u(p(w).start)+" - "+u(p(w).end)+" de "+u(a.pagination.rowsNumber),1)]),_:1}),t(n,{class:"bg-transparent",icon:"sym_o_first_page",flat:"",onClick:l[1]||(l[1]=e=>d.value.firstPage())}),t(n,{class:"bg-transparent",icon:"sym_o_navigate_before",flat:"",onClick:l[2]||(l[2]=e=>d.value.prevPage())}),t(n,{class:"bg-transparent",icon:"sym_o_navigate_next",flat:"",onClick:l[3]||(l[3]=e=>d.value.nextPage())}),t(n,{class:"bg-transparent",icon:"sym_o_last_page",flat:"",onClick:l[4]||(l[4]=e=>d.value.lastPage())})])):_("",!0)]),t(z,{grid:!o.$isDesktop,"hide-pagination":"",rows:a.rows,columns:a.columns,"row-key":"id",ref_key:"tableRef",ref:d,onRequest:p($),flat:"",selection:"multiple",pagination:a.pagination,"onUpdate:pagination":l[6]||(l[6]=e=>a.pagination=e),selected:a.selected,"onUpdate:selected":l[7]||(l[7]=e=>a.selected=e),"selected-rows-label":p(h),loading:a.loading,"rows-per-page-label":"Lineas","wrap-cells":!0},N({"no-data":s(({icon:e,message:f,filter:D})=>[i("div",H,[i("span",null,u(f),1),t(y,{size:"2em",name:D?"filter_b_and_w":e},null,8,["name"])])]),"body-cell-description":s(e=>[t(g,{props:e},{default:s(()=>[i("div",J,[i("div",null,u(e.row.description),1)])]),_:2},1032,["props"])]),"body-cell-webpage":s(e=>[t(g,{props:e},{default:s(()=>[i("div",K,[i("a",{class:"text-primary line-clamp-1",href:e.row.webpage,target:"_blank"},u(e.row.webpage),9,O)])]),_:2},1032,["props"])]),"body-cell-link_gps":s(e=>[t(g,{props:e},{default:s(()=>[i("div",X,[i("a",{class:"text-primary line-clamp-1",href:e.row.link_gps,target:"_blank"},u(e.row.link_gps),9,Y)])]),_:2},1032,["props"])]),"body-cell-action":s(e=>[t(g,{props:e},{default:s(()=>[i("div",Z,[t(n,{flat:"",class:"button bg-default text-primary rounded-md",label:"Editar","no-caps":"",onClick:f=>{a.selectedId=e.row.id,a.dialogWrite=!0}},null,8,["onClick"]),t(n,{flat:"",class:"button bg-default text-primary rounded-md",label:"consultar","no-caps":"",onClick:f=>o.$router.push(`${o.$path.provider}/${o.$path.provider_consult}/${e.row.id}`)},null,8,["onClick"])])]),_:2},1032,["props"])]),item:s(e=>[i("div",{class:"q-py-xs col-xs-12 col-sm-6 col-md-4",style:E(e.selected?"transform: scale(0.95);":"")},[t(T,{item:e,onSelectedId:l[5]||(l[5]=f=>{a.selectedId=f,a.dialogWrite=!0})},null,8,["item"])],4)]),_:2},[o.$isDesktop?void 0:{name:"bottom",fn:s(()=>[t(n,{flat:"",class:"button bg-primary-light w-full","no-caps":"",onClick:p(q)},{default:s(()=>[k("Cargar m\xE1s")]),_:1},8,["onClick"])]),key:"0"}]),1032,["grid","rows","columns","onRequest","pagination","selected","selected-rows-label","loading"]),t(c,{class:"q-pa-none",modelValue:a.dialogWrite,"onUpdate:modelValue":l[9]||(l[9]=e=>a.dialogWrite=e),position:o.$isDesktop?"right":"standard","full-height":"","full-width":o.$isDesktop,maximized:"","transition-duration":100},{default:s(()=>[t(b,null,{default:s(()=>[t(x,{onClose:l[8]||(l[8]=e=>a.dialogWrite=!1),isDrawer:"",id:a.selectedId,isEdit:"",width:o.$isDesktop?"1000px":"100%"},null,8,["id","width"])]),_:1})]),_:1},8,["modelValue","position","full-width"]),t(c,{modelValue:a.dialogCreate,"onUpdate:modelValue":l[11]||(l[11]=e=>a.dialogCreate=e),position:o.$isDesktop?"right":"standard","full-height":"",maximized:"","transition-duration":100},{default:s(()=>[t(b,null,{default:s(()=>[t(x,{onClose:l[10]||(l[10]=e=>a.dialogCreate=!1),isDrawer:"",width:o.$isDesktop?"1000px":"100%"},null,8,["width"])]),_:1})]),_:1},8,["modelValue","position"]),t(c,{modelValue:a.dialogImport,"onUpdate:modelValue":l[13]||(l[13]=e=>a.dialogImport=e),"full-height":"","full-width":"","transition-duration":100},{default:s(()=>[t(b,null,{default:s(()=>[t(L,{table:"t_provider",onClose:l[12]||(l[12]=e=>a.dialogImport=!1)})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["class"]))}};export{ae as default};
