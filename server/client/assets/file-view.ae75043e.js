import{aI as h,m as g,l as f,n as y,k,w as $,$ as I,t as a,v as n,x as l,y as s,H as o,G as m,U as p,V,F as C,R as Q,z as i,A as S,E as d,a9 as B,aa as _,b1 as P,aX as j,af as E,S as L}from"./index.e9245a9e.js";const N={class:"flex md:flex-nowrap gap-2 break-all"},U={class:"w-full md:max-w-[200px] min-w-[200px]"},z={class:"card rounded-md flex flex-col py-2 px-3 mb-1 mt-1"},A={class:"font-semibold text-xs"},F={class:"flex justify-between gap-2"},T={class:"flex justify-between gap-2"},D={class:"grid gap-1 my-1"},G={class:"flex items-center justify-between w-full"},H={class:"flex items-center w-full"},K={class:"ml-4 md:text-md font-bold pt-1.5"},M={class:"w-full overflow-hidden"},R={class:"card px-3 py-2"},W={class:"flex flex-col w-full md:max-w-[250px] min-w-[250px]"},J=h({__name:"file-view",props:{id:String},setup(v){g();const x=f("$api");f("$me");const w=v,e=y({loading:!0,timeout:null,tabsList:[{label:"Seguimiento",value:"history",icon:"list"},{label:"Prescripciones",value:"prescription",icon:"list"}],tabs:[{label:"Editar Archivo",value:"edit",icon:"fa-duotone fa-solid fa-user-pen",visible:1}],tab:"edit",tabList:"history",item:{},dialogWrite:!1,dialogPassword:!1});async function c(){e.item=await x.get(`file/${w.id}`),e.loading=!1}const b=k();return $(()=>b.table.t_insured,r=>{r.id===e.item.id&&c()},{deep:!0}),I(()=>{c()}),(r,u)=>(a(),n(L,{class:"px-1.5 py-2 lg:px-5 lg:py-6"},{default:l(()=>[s("div",N,[s("div",U,[s("div",z,[s("div",A,o(e.item.description),1),s("div",F,[s("div",null,o(e.item.file_date),1)]),s("div",T,[s("div",null,"#"+o(e.item.code),1)])]),s("div",D,[(a(!0),m(p,null,V(e.tabs,t=>(a(),m(p,{key:t.value},[t.visible?(a(),n(C,{key:0,class:Q(["button-tab hover:shadow-left-secondary w-full text-xs",e.tab==t.value&&"shadow-left-secondary bg-primary text-white"]),align:"left",unelevated:"",onClick:X=>e.tab=t.value},{default:l(()=>[s("div",G,[s("div",H,[i(S,{name:t.icon},null,8,["name"]),s("span",K,o(t.label),1)])])]),_:2},1032,["onClick","class"])):d("",!0)],64))),128))])]),s("div",M,[e.loading?d("",!0):(a(),n(B,{key:0,modelValue:e.tab,"onUpdate:modelValue":u[0]||(u[0]=t=>e.tab=t),class:"bg-transparent"},{default:l(()=>[i(_,{name:"edit",class:"p-0"},{default:l(()=>[s("div",R,[i(P,{isEdit:"",id:e.item.id,width:"100%"},null,8,["id"])])]),_:1}),i(_,{name:"policy",class:"p-0"},{default:l(()=>[i(j,{insuredId:e.item.id,width:"100%"},null,8,["insuredId"])]),_:1})]),_:1},8,["modelValue"]))]),s("div",W,[e.loading?d("",!0):(a(),n(E,{key:0,refKey:"t_customer",refId:e.item.id},null,8,["refId"]))])])]),_:1}))}});export{J as default};
