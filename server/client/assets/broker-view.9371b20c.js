import{b0 as $,m as I,l as v,n as C,k as Q,w as S,$ as V,a0 as B,t as s,G as n,z as a,F as b,E as m,y as t,a7 as E,x as i,a2 as j,D,v as c,a4 as w,H as _,U as h,V as N,A as P,R as L,a9 as r,bb as R,a5 as T,Z as z,ab as F,a8 as A,ad as K,K as U,S as G}from"./index.afe9c2e8.js";import{_ as O}from"./BrokerWrite.265327fb.js";const H={key:0,class:"flex justify-between items-start gap-2 py-2"},M=t("div",{class:"mb-2"},[t("p",{class:"text-2xl text-info"},"Consultar Corredor")],-1),W={class:"flex md:flex-nowrap gap-2 break-all"},Z={class:"w-full md:max-w-[200px] min-w-[200px]"},q={key:0,class:"relative overflow-hidden"},J={class:"card h-[208px] flex items-center p-2 justify-center"},X={class:"card rounded-md flex flex-col py-2 px-3 mb-1 mt-1"},Y={class:"font-semibold text-xs"},ee={class:"flex justify-between gap-2"},te={class:"flex justify-between gap-2"},ae={class:"grid gap-1 my-1"},se={class:"flex items-center justify-between w-full"},ie={class:"flex items-center w-full"},le={class:"ml-4 md:text-md font-bold pt-1.5"},oe={class:"w-full"},de={class:"card px-3 py-2"},ne={class:"card"},re={class:"flex flex-col w-full md:max-w-[250px] min-w-[250px]"},ce=$({__name:"BrokerRead",props:{id:String,isDrawer:Boolean,width:String},setup(f){I();const p=v("$api");v("$me");const d=f,e=C({loading:!0,timeout:null,tabs:[{label:"Editar Corredor",value:"edit",icon:"fa-duotone fa-solid fa-user-pen",visible:1},{label:"Archivos",value:"file",icon:"fa-duotone fa-solid fa-image",visible:1}],tab:"edit",tabList:"history",item:{},dialogWrite:!1,dialogPassword:!1});async function x(){e.item=await p.get(`broker/${d.id}`),e.loading=!1}async function y(){try{const o=await p.delete(`file/${e.item.profile.id}`,{data:{ref_key:"t_broker",ref_id:e.item.id}})}catch(o){console.log(o)}}const g=Q();S(()=>g.table.t_broker,o=>{o.id===e.item.id&&x()},{deep:!0}),V(()=>{x()});const k=B(()=>({width:d.width,"padding-right":d.isDrawer&&"8px","padding-left":d.isDrawer&&"8px"}));return(o,u)=>(s(),n("div",{style:U(k.value)},[f.isDrawer?(s(),n("div",H,[M,a(b,{flat:"",class:"button",label:"cerrar",onClick:u[0]||(u[0]=l=>o.$emit("close"))})])):m("",!0),t("div",W,[t("div",Z,[e.item.profile?(s(),n("div",q,[t("div",J,[a(E,{class:"w-full",src:e.item.profile.url,"spinner-color":"white",contain:"",position:"center"},null,8,["src"])]),a(b,{flat:"",class:"absolute top-0 right-0 button-icon bg-primary text-white rounded-md",size:"sm","no-caps":"",onClick:y,icon:"fa-solid fa-xmark"},{default:i(()=>[a(j,{class:"bg-default text-black text-xs"},{default:i(()=>[D("Remover Linea")]),_:1})]),_:1})])):(s(),c(w,{key:1,ref_id:e.item.id,table:"t_broker",icon:"fa-duotone fa-solid fa-camera-retro",avaliable_file_text:!1,text:"Subir foto de perfil",file_type:"FOTO PERFIL"},null,8,["ref_id"])),t("div",X,[t("div",Y,_(e.item.description),1),t("div",ee,[t("div",null,_(e.item.broker_type),1)]),t("div",te,[t("div",null,"#"+_(e.item.code),1)])]),t("div",ae,[(s(!0),n(h,null,N(e.tabs,l=>(s(),n(h,{key:l.value},[l.visible?(s(),c(b,{key:0,class:L(["button-tab hover:shadow-left-secondary w-full text-xs",e.tab==l.value&&"shadow-left-secondary bg-primary text-white"]),align:"left",unelevated:"",onClick:fe=>e.tab=l.value},{default:i(()=>[t("div",se,[t("div",ie,[a(P,{name:l.icon},null,8,["name"]),t("span",le,_(l.label),1)])])]),_:2},1032,["onClick","class"])):m("",!0)],64))),128))])]),t("div",oe,[e.loading?m("",!0):(s(),c(A,{key:0,modelValue:e.tab,"onUpdate:modelValue":u[1]||(u[1]=l=>e.tab=l),class:"bg-transparent"},{default:i(()=>[a(r,{name:"edit",class:"p-0"},{default:i(()=>[t("div",de,[a(O,{isEdit:"",id:e.item.id,width:"100%"},null,8,["id"])])]),_:1}),a(r,{name:"policy",class:"p-0"},{default:i(()=>[a(R,{insuredId:e.item.id,width:"100%"},null,8,["insuredId"])]),_:1}),a(r,{name:"file",class:"p-0"},{default:i(()=>[a(w,{ref_id:e.item.id,table:"t_broker",file_type:"GENERAL"},null,8,["ref_id"]),a(T,{refId:e.item.id,refKey:"t_broker"},null,8,["refId"])]),_:1}),a(r,{name:"event",class:"p-0"},{default:i(()=>[a(z,{brokerId:e.item.id,width:"100%"},null,8,["brokerId"])]),_:1}),a(r,{name:"invoice",class:"p-0"},{default:i(()=>[t("div",ne,[a(F,{insuredId:e.item.id,width:"100%"},null,8,["insuredId"])])]),_:1})]),_:1},8,["modelValue"]))]),t("div",re,[e.loading?m("",!0):(s(),c(K,{key:0,refKey:"t_broker",refId:e.item.id},null,8,["refId"]))])])],4))}}),_e={__name:"broker-view",props:{id:Number},setup(f){return(p,d)=>(s(),c(G,{class:"px-1.5 py-2 lg:px-5 lg:py-6"},{default:i(()=>[a(ce,{id:f.id},null,8,["id"])]),_:1}))}};export{_e as default};
