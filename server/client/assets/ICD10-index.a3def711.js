import{az as C,r as q,n as I,q as V,k as $,w as D,t as p,G as b,y as s,z as t,x as o,A as _,Q as B,D as g,H as n,B as f,F as i,E as w,J as S,aC as Q,v as R,W as P,K as x,C as U,I as z,U as N}from"./index.1c9c82ce.js";const T={class:"flex justify-between md:flex-nowrap"},W={class:"flex flex-nowrap w-full gap-2 mb-1"},j={key:0,class:"grid grid-flow-col auto-cols-max gap-2"},E={class:"full-width row flex-center text-primary q-gutter-sm"},F={bordered:"",flat:"",class:"card pb-2 relative flex flex-nowrap"},L={class:"absolute right-3 top-2"},A={class:"pl-3 pr-8 w-full pt-2 flex flex-col overflow-hidden"},G={class:"text-uppercase line-clamp-1 font-semibold"},H={class:"text-uppercase line-clamp-1 text-xxs"},J={class:"flex justify-end gap-2 -mr-5 mt-1"},Y={__name:"ICD10-index",setup(K){const{t:d}=C(),r=q(),l=I({dialogWrite:!1,dialogList:!1,dialogCreate:!1,selectedId:0,dialogWidth:400,selected:[],search:"",search_key:"orlike:code,description",pagination:{sortBy:"code",descending:!1,page:1,rowsPerPage:20},url:"ICD10",query:{groupBy:["t_ICD10.id"],where:{c_status:4}},columns:[{name:"code",required:!0,label:d("code"),align:"left",field:"code",sortable:!0},{name:"description",required:!0,label:d("name"),align:"left",field:"description",sortable:!0},{name:"group_desc",required:!0,label:d("group"),align:"left",field:"group_desc",sortable:!0},{name:"chapter_desc",required:!0,label:d("chapter"),align:"left",field:"chapter_desc",sortable:!0},{name:"description",required:!0,label:d("name"),align:"left",field:"description",sortable:!0,format:(c,a)=>`${a.code} - ${a.description}`},{name:"color",required:!0,label:d("color"),align:"left",field:"color",sortable:!0}],rows:[]}),{onRequest:v,getSelectedString:M,onDeleteRows:O,addMore:y,itemsRange:m}=V(l,r),k=$();return D(()=>k.table.t_ICD10,c=>{r.value.requestServerInteraction(),r.value.clearSelection()},{deep:!0}),(c,a)=>(p(),b(N,null,[s("div",T,[s("div",W,[t(B,{class:"w-full md:w-auto",dense:"",outlined:"",debounce:"300",modelValue:l.search,"onUpdate:modelValue":a[0]||(a[0]=e=>l.search=e),placeholder:c.$t("search")},{append:o(()=>[t(_,{name:"search"})]),_:1},8,["modelValue","placeholder"])]),c.$isDesktop?(p(),b("div",j,[t(i,{class:"bg-transparent",flat:"","no-caps":""},{default:o(()=>[g(n(f(m).start)+" - "+n(f(m).end)+" de "+n(l.pagination.rowsNumber),1)]),_:1}),t(i,{class:"bg-transparent",icon:"sym_o_first_page",flat:"",onClick:a[1]||(a[1]=e=>r.value.firstPage())}),t(i,{class:"bg-transparent",icon:"sym_o_navigate_before",flat:"",onClick:a[2]||(a[2]=e=>r.value.prevPage())}),t(i,{class:"bg-transparent",icon:"sym_o_navigate_next",flat:"",onClick:a[3]||(a[3]=e=>r.value.nextPage())}),t(i,{class:"bg-transparent",icon:"sym_o_last_page",flat:"",onClick:a[4]||(a[4]=e=>r.value.lastPage())})])):w("",!0)]),t(z,{grid:!c.$isDesktop,"hide-pagination":"",rows:l.rows,columns:l.columns,"row-key":"id",ref_key:"tableRef",ref:r,onRequest:f(v),flat:"",pagination:l.pagination,"onUpdate:pagination":a[5]||(a[5]=e=>l.pagination=e),loading:l.loading,"rows-per-page-label":"Lineas","wrap-cells":!0},S({"no-data":o(({icon:e,message:u,filter:h})=>[s("div",E,[s("span",null,n(u),1),t(_,{size:"2em",name:h?"filter_b_and_w":e},null,8,["name"])])]),"body-cell-color":o(e=>[t(Q,{props:e},{default:o(()=>[e.row.color?(p(),R(P,{key:0,style:x({background:e.row.color}),class:"flex justify-center text-center font-bold text-xxs mb-1"},{default:o(()=>[g(n(e.row.color),1)]),_:2},1032,["style"])):w("",!0)]),_:2},1032,["props"])]),item:o(e=>[s("div",{class:"q-py-xs col-xs-12 col-sm-6 col-md-4",style:x(e.selected?"transform: scale(0.95);":"")},[s("div",F,[s("div",L,[t(U,{dense:"",modelValue:e.selected,"onUpdate:modelValue":u=>e.selected=u,label:e.row.name},null,8,["modelValue","onUpdate:modelValue","label"])]),s("div",A,[s("span",G,n(e.row.description),1),s("span",H,n(e.row.ref),1),s("div",J,[t(i,{flat:"",class:"button-press bg-primary text-white rounded-md",size:"sm",label:"Editar","no-caps":"",onClick:u=>{l.selectedId=e.row.id,l.dialogWrite=!0}},null,8,["onClick"])])])])],4)]),_:2},[c.$isDesktop?void 0:{name:"bottom",fn:o(()=>[t(i,{flat:"",class:"button bg-primary-light w-full","no-caps":"",onClick:f(y)},{default:o(()=>[g("Cargar m\xE1s")]),_:1},8,["onClick"])]),key:"0"}]),1032,["grid","rows","columns","onRequest","pagination","loading"])],64))}};export{Y as default};
