import{ax as C,r as q,n as I,q as $,k as D,w as V,t as f,v as b,x as o,y as s,z as t,Q as S,A as _,G as B,F as i,D as g,H as d,B as p,E as w,I as Q,J as R,aA as P,W as z,K as x,C as N,R as U,S as T}from"./index.afe9c2e8.js";const W={class:"flex justify-between md:flex-nowrap"},j={class:"flex flex-nowrap w-full gap-2 mb-1"},E={key:0,class:"grid grid-flow-col auto-cols-max gap-2"},A={class:"full-width row flex-center text-primary q-gutter-sm"},L={bordered:"",flat:"",class:"card pb-2 relative flex flex-nowrap"},F={class:"absolute right-3 top-2"},G={class:"pl-3 pr-8 w-full pt-2 flex flex-col overflow-hidden"},H={class:"text-uppercase line-clamp-1 font-semibold"},J={class:"text-uppercase line-clamp-1 text-xxs"},K={class:"flex justify-end gap-2 -mr-5 mt-1"},Z={__name:"ICD10-index",setup(M){const{t:c}=C(),r=q(),l=I({dialogWrite:!1,dialogList:!1,dialogCreate:!1,selectedId:0,dialogWidth:400,selected:[],search:"",search_key:"orlike:code,description",pagination:{sortBy:"code",descending:!1,page:1,rowsPerPage:20},url:"ICD10",query:{groupBy:["t_ICD10.id"],where:{c_status:4}},columns:[{name:"code",required:!0,label:c("code"),align:"left",field:"code",sortable:!0},{name:"description",required:!0,label:c("name"),align:"left",field:"description",sortable:!0},{name:"group_desc",required:!0,label:c("group"),align:"left",field:"group_desc",sortable:!0},{name:"chapter_desc",required:!0,label:c("chapter"),align:"left",field:"chapter_desc",sortable:!0},{name:"description",required:!0,label:c("name"),align:"left",field:"description",sortable:!0,format:(n,a)=>`${a.code} - ${a.description}`},{name:"color",required:!0,label:c("color"),align:"left",field:"color",sortable:!0}],rows:[]}),{onRequest:y,getSelectedString:O,onDeleteRows:X,addMore:v,itemsRange:m}=$(l,r),k=D();return V(()=>k.table.t_ICD10,n=>{r.value.requestServerInteraction(),r.value.clearSelection()},{deep:!0}),(n,a)=>(f(),b(T,{class:U(n.$isDesktop?n.insuredId?"px-2 py-3":"px-1.5 py-2 lg:px-5 lg:py-6":"px-1.5 py-2")},{default:o(()=>[s("div",W,[s("div",j,[t(S,{class:"w-full md:w-auto",dense:"",outlined:"",debounce:"300",modelValue:l.search,"onUpdate:modelValue":a[0]||(a[0]=e=>l.search=e),placeholder:n.$t("search")},{append:o(()=>[t(_,{name:"search"})]),_:1},8,["modelValue","placeholder"])]),n.$isDesktop?(f(),B("div",E,[t(i,{class:"bg-transparent",flat:"","no-caps":""},{default:o(()=>[g(d(p(m).start)+" - "+d(p(m).end)+" de "+d(l.pagination.rowsNumber),1)]),_:1}),t(i,{class:"bg-transparent",icon:"sym_o_first_page",flat:"",onClick:a[1]||(a[1]=e=>r.value.firstPage())}),t(i,{class:"bg-transparent",icon:"sym_o_navigate_before",flat:"",onClick:a[2]||(a[2]=e=>r.value.prevPage())}),t(i,{class:"bg-transparent",icon:"sym_o_navigate_next",flat:"",onClick:a[3]||(a[3]=e=>r.value.nextPage())}),t(i,{class:"bg-transparent",icon:"sym_o_last_page",flat:"",onClick:a[4]||(a[4]=e=>r.value.lastPage())})])):w("",!0)]),t(Q,{grid:!n.$isDesktop,"hide-pagination":"",rows:l.rows,columns:l.columns,"row-key":"id",ref_key:"tableRef",ref:r,onRequest:p(y),flat:"",pagination:l.pagination,"onUpdate:pagination":a[5]||(a[5]=e=>l.pagination=e),loading:l.loading,"rows-per-page-label":"Lineas","wrap-cells":!0},R({"no-data":o(({icon:e,message:u,filter:h})=>[s("div",A,[s("span",null,d(u),1),t(_,{size:"2em",name:h?"filter_b_and_w":e},null,8,["name"])])]),"body-cell-color":o(e=>[t(P,{props:e},{default:o(()=>[e.row.color?(f(),b(z,{key:0,style:x({background:e.row.color}),class:"flex justify-center text-center font-bold text-xxs mb-1"},{default:o(()=>[g(d(e.row.color),1)]),_:2},1032,["style"])):w("",!0)]),_:2},1032,["props"])]),item:o(e=>[s("div",{class:"q-py-xs col-xs-12 col-sm-6 col-md-4",style:x(e.selected?"transform: scale(0.95);":"")},[s("div",L,[s("div",F,[t(N,{dense:"",modelValue:e.selected,"onUpdate:modelValue":u=>e.selected=u,label:e.row.name},null,8,["modelValue","onUpdate:modelValue","label"])]),s("div",G,[s("span",H,d(e.row.description),1),s("span",J,d(e.row.ref),1),s("div",K,[t(i,{flat:"",class:"button-press bg-primary text-white rounded-md",size:"sm",label:"Editar","no-caps":"",onClick:u=>{l.selectedId=e.row.id,l.dialogWrite=!0}},null,8,["onClick"])])])])],4)]),_:2},[n.$isDesktop?void 0:{name:"bottom",fn:o(()=>[t(i,{flat:"",class:"button bg-primary-light w-full","no-caps":"",onClick:p(v)},{default:o(()=>[g("Cargar m\xE1s")]),_:1},8,["onClick"])]),key:"0"}]),1032,["grid","rows","columns","onRequest","pagination","loading"])]),_:1},8,["class"]))}};export{Z as default};
