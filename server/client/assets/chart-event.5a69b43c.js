import{az as I,bu as k,aj as N,ah as G,aq as U,l as j,n as M,w as g,o as S,$ as L,t as r,G as Q,y as a,z as t,aF as b,x as n,A as h,b2 as q,b3 as w,Q as C,al as R,H as x,bv as l,bw as D,aa as u,v as c,bx as m,by as p,a9 as T,E as Y,j as A}from"./index.bc6d1759.js";var K={"A00\u2013B99":{en:"Certain infectious and parasitic diseases",es:"Ciertas enfermedades infecciosas y parasitarias"},"C00\u2013D48":{en:"Neoplasms",es:"Neoplasias"},"D50\u2013D89":{en:"Diseases of the blood and blood-forming organs and certain disorders involving the immune mechanism",es:"Enfermedades de la sangre y de los \xF3rganos hematopoy\xE9ticos y ciertos trastornos del sistema inmunitario"},"E00\u2013E90":{en:"Endocrine, nutritional and metabolic diseases",es:"Enfermedades endocrinas, nutricionales y metab\xF3licas"},"F00\u2013F99":{en:"Mental and behavioural disorders",es:"Trastornos mentales y del comportamiento"},"G00\u2013G99":{en:"Diseases of the nervous system",es:"Enfermedades del sistema nervioso"},"H00\u2013H59":{en:"Diseases of the eye and adnexa",es:"Enfermedades del ojo y sus anexos"},"H60\u2013H95":{en:"Diseases of the ear and mastoid process",es:"Enfermedades del o\xEDdo y de la ap\xF3fisis mastoides"},"I00\u2013I99":{en:"Diseases of the circulatory system",es:"Enfermedades del sistema circulatorio"},"J00\u2013J99":{en:"Diseases of the respiratory system",es:"Enfermedades del sistema respiratorio"},"K00\u2013K93":{en:"Diseases of the digestive system",es:"Enfermedades del sistema digestivo"},"L00\u2013L99":{en:"Diseases of the skin and subcutaneous tissue",es:"Enfermedades de la piel y del tejido subcut\xE1neo"},"M00\u2013M99":{en:"Diseases of the musculoskeletal system and connective tissue",es:"Enfermedades del sistema osteomuscular y del tejido conjuntivo"},"N00\u2013N99":{en:"Diseases of the genitourinary system",es:"Enfermedades del sistema genitourinario"},"O00\u2013O99":{en:"Pregnancy, childbirth and the puerperium",es:"Embarazo, parto y puerperio"},"P00\u2013P96":{en:"Certain conditions originating in the perinatal period",es:"Ciertas afecciones originadas en el per\xEDodo perinatal"},"Q00\u2013Q99":{en:"Congenital malformations, deformations and chromosomal abnormalities",es:"Malformaciones cong\xE9nitas, deformidades y anomal\xEDas cromos\xF3micas"},"R00\u2013R99":{en:"Symptoms, signs and abnormal clinical and laboratory findings, not elsewhere classified",es:"S\xEDntomas, signos y hallazgos anormales cl\xEDnicos y de laboratorio, no clasificados en otra parte"},"S00\u2013T98":{en:"Injury, poisoning and certain other consequences of external causes",es:"Traumatismos, envenenamientos y algunas otras consecuencias de causas externas"},"V01\u2013Y98":{en:"External causes of morbidity and mortality",es:"Causas externas de morbilidad y de mortalidad"},"Z00\u2013Z99":{en:"Factors influencing health status and contact with health services",es:"Factores que influyen en el estado de salud y contacto con los servicios de salud"},"U00\u2013U99":{en:"Codes for special purposes",es:"C\xF3digos para prop\xF3sitos especiales"}};const z={key:0,class:"grid lg:grid-cols-2 gap-1"},F={class:"lg:col-span-2 gap-1"},H={class:"flex mb-1"},J={class:"flex lg:flex-nowrap gap-1 justify-between"},Z={class:"grid grid-cols-2 gap-2"},W={class:"grid lg:grid-cols-3 my-1"},X={class:"grid lg:grid-cols-2 gap-1 mb-1"},ee={class:"grid grid-cols-3 gap-1"},se={class:"border border-[#a9a7b1] border-l-4 border-l-primary flex justify-between px-2 rounded"},te=a("span",null,"Cantidad",-1),ae={class:"border border-[#a9a7b1] border-l-4 border-l-primary flex justify-between px-2 rounded"},ie=a("span",null,"Maternidad",-1),oe={class:"lg:max-w-full max-w-[350px]"},ne={class:"grid lg:grid-cols-1 gap-1"},le={class:"flex flex-col w-full gap-1"},de={class:"grid lg:grid-cols-1 gap-1"},re={class:"flex flex-col w-full gap-1"},ue={class:"flex justify-center gap-4"},ce={class:"grid lg:grid-cols-1 gap-1"},me={class:"flex flex-col w-full gap-1"},pe={class:"grid lg:grid-cols-1 gap-1"},ye={class:"flex flex-col w-full gap-1"},_e={class:"grid grid-cols-1 gap-1"},ge={class:"flex flex-col w-full gap-1"},ve={class:"grid grid-cols-1 gap-1"},fe={class:"flex flex-col w-full gap-1"},qe={__name:"chart-event",setup(be){const{t:V}=I(),v={timePeriods:k.map(o=>({label:V(o),value:o})),event_state:[{label:"Todos",value:2},{label:"Finalizadas",value:1},{label:"Pendientes",value:0}]},$=N(new Date),E=G($,"MMMM",{locale:A}),P=U(new Date),O=j("$api"),e=M({tab:"provider",$event_state_id:0,timePeriod:"all",initialPagination:{sortBy:"quantity",descending:!0,page:1,rowsPerPage:10},timeout:null,dialogEventWrite:!1,selectedEventId:0,loading:!0,first:!0,update:1,day:P,stats:{},diagnosisBy:"list",diagnosisGraph:{title:"Coordinaciones por Diagn\xF3stico",data:[]},diagnosisByGroupDesc:[],diagnosis:[],dailyList:[],eventStateList:[],userList:[],treatment:[],month:E,start:"all",query:{group_by:"t_event.id",where:{"ne:$event_state_id":"40",user_id:null,$event_type_id:[],request_date:{from:null,to:null},c_status:[4]}}});g(()=>e.timePeriod,o=>{S(o,e.query,"request_date"),d()}),g(()=>e.query.where.user_id,o=>{d()}),g(()=>e.$event_state_id,o=>{o===2?(e.query.where["ne:$event_state_id"]=null,e.query.where.$event_state_id=null):o===1?(e.query.where.$event_state_id=40,e.query.where["ne:$event_state_id"]=null):(e.query.where.$event_state_id=null,e.query.where["ne:$event_state_id"]=40),d()});function B(o){const s={};for(const[i,f]of Object.entries(o)){const y=f.group_desc||"unknown";s[y]||(s[y]={value:0,label:""}),s[y].value+=f.quantity,s[y].label=K[y].es||""}return Object.values(s)}function _(o){e.diagnosisBy=o,o==="code"?e.diagnosisGraph={title:"Coordinaciones por Diagn\xF3stico de grupo",data:e.diagnosisByGroupDesc}:e.diagnosisGraph={title:"Coordinaciones por Diagn\xF3stico",data:e.stats.c.diagnosisList},++e.update}async function d(){e.stats=await O.get("event/stats",{params:e.query}),e.diagnosisByGroupDesc=B(e.stats.c.diagnosis),_(e.diagnosisBy),e.loading=!1}return L(()=>{d()}),(o,s)=>e.loading?Y("",!0):(r(),Q("div",z,[a("div",F,[a("div",H,[t(b,{class:"flex",size:"sm",modelValue:e.timePeriod,"onUpdate:modelValue":s[0]||(s[0]=i=>e.timePeriod=i),"toggle-color":"secondary","toggle-text-color":"text-font",options:v.timePeriods,type:"radio"},null,8,["modelValue","options"])]),a("div",J,[a("div",Z,[t(C,{class:"min-w-[150px]",dense:"",outlined:"",modelValue:e.query.where.request_date.from,"onUpdate:modelValue":s[3]||(s[3]=i=>e.query.where.request_date.from=i),mask:"##-##-####"},{append:n(()=>[t(h,{name:"event",class:"cursor-pointer"},{default:n(()=>[t(q,{ref:"proxy"},{default:n(()=>[t(w,{flat:"",modelValue:e.query.where.request_date.from,"onUpdate:modelValue":[s[1]||(s[1]=i=>e.query.where.request_date.from=i),s[2]||(s[2]=i=>{o.$refs.proxy.hide(),d()})],"no-unset":"","years-in-month-view":"",minimal:"",mask:"DD-MM-YYYY"},null,8,["modelValue"])]),_:1},512)]),_:1})]),_:1},8,["modelValue"]),t(C,{class:"min-w-[150px]",dense:"",outlined:"",modelValue:e.query.where.request_date.to,"onUpdate:modelValue":s[6]||(s[6]=i=>e.query.where.request_date.to=i),mask:"##-##-####"},{append:n(()=>[t(h,{name:"event",class:"cursor-pointer"},{default:n(()=>[t(q,{ref:"proxy"},{default:n(()=>[t(w,{flat:"",modelValue:e.query.where.request_date.to,"onUpdate:modelValue":[s[4]||(s[4]=i=>e.query.where.request_date.to=i),s[5]||(s[5]=i=>{o.$refs.proxy.hide(),d()})],"no-unset":"","years-in-month-view":"",minimal:"",mask:"DD-MM-YYYY"},null,8,["modelValue"])]),_:1},512)]),_:1})]),_:1},8,["modelValue"])]),t(b,{class:"flex",modelValue:e.$event_state_id,"onUpdate:modelValue":s[7]||(s[7]=i=>e.$event_state_id=i),options:v.event_state},null,8,["modelValue","options"])]),a("div",W,[t(R,{onSetUser:s[8]||(s[8]=i=>e.query.where.user_id=i),onClearUser:s[9]||(s[9]=i=>e.query.where.user_id=null),"model-value":e.user_description,label:"Coordinador",unixroles:24,"onUpdate:modelValue":s[10]||(s[10]=i=>d())},null,8,["model-value"])]),a("div",X,[a("div",ee,[a("div",se,[te,a("span",null,x(e.stats.c.quantity),1)]),a("div",ae,[ie,a("span",null,x(e.stats.c.pregnant),1)])])]),a("div",oe,[t(D,{modelValue:e.tab,"onUpdate:modelValue":s[11]||(s[11]=i=>e.tab=i),dense:"",class:"text-grey mb-1 w-full","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":"","outside-arrows":""},{default:n(()=>[t(l,{name:"provider",label:"Proveedores"}),t(l,{name:"diagnosis",label:"Diagn\xF3sticos"}),t(l,{name:"country",label:"Pa\xEDs"}),t(l,{name:"city",label:"Ciudades"}),t(l,{name:"state",label:"Estado"}),t(l,{name:"user",label:"Coordinador"})]),_:1},8,["modelValue"])]),t(T,{class:"p-0",modelValue:e.tab,"onUpdate:modelValue":s[15]||(s[15]=i=>e.tab=i),animated:""},{default:n(()=>[t(u,{class:"p-0",name:"provider"},{default:n(()=>[a("div",ne,[a("div",le,[(r(),c(m,{key:e.update,data:e.stats.c.providerList,name:"label",value:"value",title:"Coordinaciones por Proveedores",subtitle:"Coordinaciones"},null,8,["data"])),t(p,{list:e.stats.c.providerList,title:"COORDINACIONES",stats:e.stats.c,type:"provider_description",columnKey:"provider_description",hideBtn:"",event_state_id:e.$event_state_id,quantity:e.stats.c.quantity},null,8,["list","stats","event_state_id","quantity"])])])]),_:1}),t(u,{class:"p-0",name:"diagnosis"},{default:n(()=>[a("div",de,[a("div",re,[a("div",ue,[t(D,{modelValue:e.diagnosisBy,"onUpdate:modelValue":s[14]||(s[14]=i=>e.diagnosisBy=i),dense:"",class:"text-grey mb-1 w-full","active-color":"primary","indicator-color":"primary",align:"center","narrow-indicator":"","outside-arrows":""},{default:n(()=>[t(l,{name:"code",label:"Grupo",onClick:s[12]||(s[12]=()=>_("code"))}),t(l,{name:"list",label:"C\xF3digo",onClick:s[13]||(s[13]=()=>_("list"))})]),_:1},8,["modelValue"])]),(r(),c(m,{key:e.update,data:e.diagnosisGraph.data,name:"label",value:"value",title:e.diagnosisGraph.title,subtitle:"Coordinaciones"},null,8,["data","title"])),t(p,{list:e.diagnosisGraph.data,title:"COORDINACIONES",name:"Diagn\xF3stico",stats:e.stats.c,type:"diagnosis",columnKey:"diagnosis",hideBtn:"",event_state_id:e.$event_state_id,quantity:e.stats.c.quantity},null,8,["list","stats","event_state_id","quantity"])])])]),_:1}),t(u,{class:"p-0",name:"state"},{default:n(()=>[a("div",ce,[a("div",me,[(r(),c(m,{key:e.update,data:e.stats.c.eventStateList,name:"label",value:"value",title:"Coordinaciones por Estado",subtitle:"Coordinaciones"},null,8,["data"])),t(p,{list:e.stats.c.eventStateList,title:"COORDINACIONES",name:"Proveedores",stats:e.stats.c,type:"event_state",columnKey:"event_state",hideBtn:"",event_state_id:e.$event_state_id,quantity:e.stats.c.quantity},null,8,["list","stats","event_state_id","quantity"])])])]),_:1}),t(u,{class:"p-0",name:"user"},{default:n(()=>[a("div",pe,[a("div",ye,[(r(),c(m,{key:e.update,data:e.stats.c.users,name:"label",value:"value",title:"Coordinaciones por Usuario",subtitle:"Coordinaciones"},null,8,["data"])),t(p,{list:e.stats.c.users,title:"COORDINACIONES",stats:e.stats.c,type:"user_description",columnKey:"user_description",name:"Proveedores",hideBtn:"",event_state_id:e.$event_state_id,quantity:e.stats.c.quantity},null,8,["list","stats","event_state_id","quantity"])])])]),_:1}),t(u,{class:"p-0",name:"country"},{default:n(()=>[a("div",_e,[a("div",ge,[(r(),c(m,{key:e.update,data:e.stats.c.countryList,name:"label",value:"value",title:"Coordinaciones por Pa\xEDs",subtitle:"Coordinaciones"},null,8,["data"])),t(p,{list:e.stats.c.countryList,title:"COORDINACIONES",name:"Paises",stats:e.stats.c,type:"country",columnKey:"country",hideBtn:"",event_state_id:e.$event_state_id,quantity:e.stats.c.quantity},null,8,["list","stats","event_state_id","quantity"])])])]),_:1}),t(u,{class:"p-0",name:"city"},{default:n(()=>[a("div",ve,[a("div",fe,[(r(),c(m,{key:e.update,data:e.stats.c.cityList,name:"label",value:"value",title:"Coordinaciones por Ciudad",subtitle:"Coordinaciones"},null,8,["data"])),t(p,{list:e.stats.c.cityList,title:"COORDINACIONES",name:"Ciudades",stats:e.stats.c,type:"city",columnKey:"city",hideBtn:"",event_state_id:e.$event_state_id,quantity:e.stats.c.quantity},null,8,["list","stats","event_state_id","quantity"])])])]),_:1})]),_:1},8,["modelValue"])])]))}};export{qe as default};
