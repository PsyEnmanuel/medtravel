import{az as q,r as V,n as S,q as I,k as R,w as B,t as m,v as b,x as s,y as l,z as a,Q,A as _,F as i,B as u,E as w,G as D,D as v,H as r,I as P,J as z,aC as f,K as U,C as N,R as E,S as T}from"./index.1c9c82ce.js";const W={class:"flex justify-between md:flex-nowrap mb-2"},j={class:"flex flex-nowrap w-full gap-2"},L={key:0,class:"grid grid-flow-col auto-cols-max gap-2"},A={class:"full-width row flex-center text-primary q-gutter-sm"},F={class:"flex flex-col"},G={class:"flex flex-col"},H=["href"],J={class:"flex flex-col"},K=["href"],M={class:"flex gap-2"},O={bordered:"",flat:"",class:"card pb-2 relative flex flex-nowrap"},X={class:"absolute right-3 top-2"},Y={class:"pl-3 pr-8 w-full pt-2 flex flex-col overflow-hidden"},Z={class:"text-uppercase line-clamp-1 font-semibold"},ee={class:"text-uppercase line-clamp-1 text-xxs"},le={class:"flex justify-end gap-2 -mr-5 mt-1"},se={__name:"file-index",setup(ae){const{t:p}=q(),d=V(),t=S({dialogWrite:!1,dialogList:!1,dialogCreate:!1,selectedId:0,dialogWidth:400,selected:[],search:"",search_key:"orlike:description",pagination:{sortBy:"description",descending:!1,page:1,rowsPerPage:20},url:"customer",query:{groupBy:["t_customer.id"],where:{c_status:4}},columns:[{name:"action",required:!0,label:"",align:"left",field:p("id"),classes:"w-[220px]"},{name:"description",required:!0,label:p("name"),align:"left",field:"description",sortable:!0},{name:"phone",required:!0,label:p("phone"),align:"left",field:"phone",sortable:!0},{name:"email",required:!0,label:p("email"),align:"left",field:"email",sortable:!0}],rows:[]}),{onRequest:x,getSelectedString:y,onDeleteRows:h,addMore:k,itemsRange:g}=I(t,d),C=R();return B(()=>C.table.t_customer,n=>{d.value.requestServerInteraction(),d.value.clearSelection()},{deep:!0}),(n,o)=>(m(),b(T,{class:E(n.insuredId?"px-2 py-3":"px-1.5 py-2 lg:px-5 lg:py-6")},{default:s(()=>[l("div",W,[l("div",j,[a(Q,{class:"w-full md:w-auto",dense:"",outlined:"",debounce:"300",modelValue:t.search,"onUpdate:modelValue":o[0]||(o[0]=e=>t.search=e),placeholder:n.$t("search")},{append:s(()=>[a(_,{name:"search"})]),_:1},8,["modelValue","placeholder"]),t.selected.length?(m(),b(i,{key:0,flat:"",class:"button h-full bg-primary text-white","icon-right":"sym_o_remove",label:n.$isDesktop?"Remover":"","no-caps":"",onClick:u(h)},null,8,["label","onClick"])):w("",!0)]),n.$isDesktop?(m(),D("div",L,[a(i,{class:"bg-transparent",flat:"","no-caps":""},{default:s(()=>[v(r(u(g).start)+" - "+r(u(g).end)+" de "+r(t.pagination.rowsNumber),1)]),_:1}),a(i,{class:"bg-transparent",icon:"sym_o_first_page",flat:"",onClick:o[1]||(o[1]=e=>d.value.firstPage())}),a(i,{class:"bg-transparent",icon:"sym_o_navigate_before",flat:"",onClick:o[2]||(o[2]=e=>d.value.prevPage())}),a(i,{class:"bg-transparent",icon:"sym_o_navigate_next",flat:"",onClick:o[3]||(o[3]=e=>d.value.nextPage())}),a(i,{class:"bg-transparent",icon:"sym_o_last_page",flat:"",onClick:o[4]||(o[4]=e=>d.value.lastPage())})])):w("",!0)]),a(P,{grid:!n.$isDesktop,"hide-pagination":"",rows:t.rows,columns:t.columns,"row-key":"id",ref_key:"tableRef",ref:d,onRequest:u(x),flat:"",selection:"multiple",pagination:t.pagination,"onUpdate:pagination":o[5]||(o[5]=e=>t.pagination=e),selected:t.selected,"onUpdate:selected":o[6]||(o[6]=e=>t.selected=e),"selected-rows-label":u(y),loading:t.loading,"rows-per-page-label":"Lineas","wrap-cells":!0},z({"no-data":s(({icon:e,message:c,filter:$})=>[l("div",A,[l("span",null,r(c),1),a(_,{size:"2em",name:$?"filter_b_and_w":e},null,8,["name"])])]),"body-cell-description":s(e=>[a(f,{props:e},{default:s(()=>[l("div",F,[l("div",null,r(e.row.description),1)])]),_:2},1032,["props"])]),"body-cell-webpage":s(e=>[a(f,{props:e},{default:s(()=>[l("div",G,[l("a",{class:"text-primary line-clamp-1",href:e.row.webpage,target:"_blank"},r(e.row.webpage),9,H)])]),_:2},1032,["props"])]),"body-cell-link_gps":s(e=>[a(f,{props:e},{default:s(()=>[l("div",J,[l("a",{class:"text-primary line-clamp-1",href:e.row.link_gps,target:"_blank"},r(e.row.link_gps),9,K)])]),_:2},1032,["props"])]),"body-cell-action":s(e=>[a(f,{props:e},{default:s(()=>[l("div",M,[a(i,{flat:"",class:"button bg-default text-primary rounded-md",label:"Editar","no-caps":"",onClick:c=>{t.selectedId=e.row.id,t.dialogWrite=!0}},null,8,["onClick"]),a(i,{flat:"",class:"button bg-default text-primary rounded-md",label:"consultar","no-caps":"",onClick:c=>n.$router.push(`${n.$path.customer}/${n.$path.customer_consult}/${e.row.id}`)},null,8,["onClick"])])]),_:2},1032,["props"])]),item:s(e=>[l("div",{class:"q-py-xs col-xs-12 col-sm-6 col-md-4",style:U(e.selected?"transform: scale(0.95);":"")},[l("div",O,[l("div",X,[a(N,{dense:"",modelValue:e.selected,"onUpdate:modelValue":c=>e.selected=c,label:e.row.name},null,8,["modelValue","onUpdate:modelValue","label"])]),l("div",Y,[l("span",Z,r(e.row.description),1),l("span",ee,r(e.row.ref),1),l("div",le,[a(i,{flat:"",class:"button bg-default text-primary rounded-md",size:"sm",label:"Editar","no-caps":"",onClick:c=>{t.selectedId=e.row.id,t.dialogWrite=!0}},null,8,["onClick"])])])])],4)]),_:2},[n.$isDesktop?void 0:{name:"bottom",fn:s(()=>[a(i,{flat:"",class:"button bg-primary-light w-full","no-caps":"",onClick:u(k)},{default:s(()=>[v("Cargar m\xE1s")]),_:1},8,["onClick"])]),key:"0"}]),1032,["grid","rows","columns","onRequest","pagination","selected","selected-rows-label","loading"])]),_:1},8,["class"]))}};export{se as default};
