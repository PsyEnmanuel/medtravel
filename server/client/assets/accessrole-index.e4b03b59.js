import{l as b,m as g,n as w,$ as f,t as i,v as p,x as t,z as o,I as y,az as v,aA as c,D as _,H as x,G as $,U as k,V,C as I,R as Q,S as B}from"./index.7b06e917.js";const z={__name:"accessrole-index",props:{table:Object,role:Object},setup(C){const r=b("$api"),d=g(),a=w({table:[],role:[],columns:[],rows:[],pagination:{sortBy:"",descending:!1,page:1,rowsPerPage:100}});f(async()=>{a.tables=await r.get("/permission/tables"),a.role=await r.get("role"),a.columns=a.role.items.reduce((l,e)=>(l.push({name:e.label,label:`${e.label} (${e.value})`,field:e.label,align:"center"}),l),[{name:"label",label:"TABLA",field:"label",classes:"w-[100px]",align:"left"}]),a.rows=a.tables.tables_roles});async function m(l,e){e.row[l.label]?e.row.value=parseInt(e.row.value)+parseInt(l.value):e.row.value=parseInt(e.row.value)-parseInt(l.value),r.put("permission/roles-permission",[{c_group:e.row.value,table:e.row.label}]),d.notify({type:"success",message:"Permiso de Role actualizado"})}return(l,e)=>(i(),p(B,{class:Q(l.$isDesktop?l.insuredId?"px-2 py-3":"px-1.5 py-2 lg:px-5 lg:py-6":"px-1.5 py-2")},{default:t(()=>[o(y,{pagination:a.pagination,"onUpdate:pagination":e[0]||(e[0]=s=>a.pagination=s),flat:"",rows:a.rows,columns:a.columns,"row-key":"name",separator:"vertical"},{body:t(s=>[o(v,{props:s},{default:t(()=>[o(c,{key:"label",props:s},{default:t(()=>[_(x(l.$t(s.row.label)),1)]),_:2},1032,["props"]),(i(!0),$(k,null,V(a.role.items,n=>(i(),p(c,{key:n.label,props:s},{default:t(()=>[o(I,{modelValue:s.row[n.label],"onUpdate:modelValue":[u=>s.row[n.label]=u,u=>m(n,s)]},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["pagination","rows","columns"])]),_:1},8,["class"]))}};export{z as default};
