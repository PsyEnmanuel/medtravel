import{b0 as w,m as h,l as u,n as g,k as y,w as k,$,t as a,v as l,x as i,y as t,H as o,G as f,U as _,V as Q,F as V,R as C,z as d,A as S,E as n,a7 as B,a8 as E,bQ as I,ad as P,S as N}from"./index.7b06e917.js";const U={class:"flex md:flex-nowrap gap-2 break-all"},j={class:"w-full md:max-w-[200px] min-w-[200px]"},z={class:"card rounded-md flex flex-col py-2 px-3 mb-1 mt-1"},F={class:"font-semibold text-xs"},L={class:"font-semibold text-xs"},T={class:"font-semibold text-xxs"},A={class:"grid gap-1 my-1"},D={class:"flex items-center justify-between w-full"},G={class:"flex items-center w-full"},H={class:"ml-4 md:text-md font-bold pt-1.5"},K={class:"w-full overflow-hidden"},M={class:"card px-3 py-2"},R={class:"flex flex-col w-full md:max-w-[250px] min-w-[250px]"},J=w({__name:"task-view",props:{id:String},setup(p){h();const x=u("$api");u("$me");const v=p,e=g({loading:!0,timeout:null,tabs:[{label:"Editar Solicitud",value:"edit",icon:"fa-duotone fa-solid fa-user-pen",visible:1}],tab:"edit",tabList:"history",item:{},dialogWrite:!1,dialogPassword:!1});async function c(){e.item=await x.get(`task/${v.id}`),e.loading=!1}const b=y();return k(()=>b.table.t_task,r=>{r.id===e.item.id&&c()},{deep:!0}),$(()=>{c()}),(r,m)=>(a(),l(N,{class:"px-1.5 py-2 lg:px-5 lg:py-6"},{default:i(()=>[t("div",U,[t("div",j,[t("div",z,[t("div",F,"#"+o(e.item.code),1),t("div",L,o(e.item.description),1),t("div",T,o(e.item.ident_no),1)]),t("div",A,[(a(!0),f(_,null,Q(e.tabs,s=>(a(),f(_,{key:s.value},[s.visible?(a(),l(V,{key:0,class:C(["button-tab hover:shadow-left-secondary w-full text-xs",e.tab==s.value&&"shadow-left-secondary bg-primary text-white"]),align:"left",unelevated:"",onClick:W=>e.tab=s.value},{default:i(()=>[t("div",D,[t("div",G,[d(S,{name:s.icon},null,8,["name"]),t("span",H,o(s.label),1)])])]),_:2},1032,["onClick","class"])):n("",!0)],64))),128))])]),t("div",K,[e.loading?n("",!0):(a(),l(B,{key:0,modelValue:e.tab,"onUpdate:modelValue":m[0]||(m[0]=s=>e.tab=s),class:"bg-transparent"},{default:i(()=>[d(E,{name:"edit",class:"p-0"},{default:i(()=>[t("div",M,[d(I,{isEdit:"",id:e.item.id,width:"100%"},null,8,["id"])])]),_:1})]),_:1},8,["modelValue"]))]),t("div",R,[e.loading?n("",!0):(a(),l(P,{key:0,refKey:"t_task",refId:e.item.id},null,8,["refId"]))])])]),_:1}))}});export{J as default};
