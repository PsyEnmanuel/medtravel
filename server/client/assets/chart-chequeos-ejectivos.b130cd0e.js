import{ax as V,bL as k,ah as D,af as L,ao as M,l as U,n as B,w as m,o as Q,$ as S,t as d,G as j,y as a,z as t,aS as y,x as i,A as g,aB as f,aC as q,Q as b,aj as E,H as h,bC as r,bD as I,a8 as u,v as _,bM as v,bN as p,a7 as N,E as O,j as Y}from"./index.6dfca1d0.js";const T={key:0,class:"grid lg:grid-cols-2 gap-1"},K={class:"lg:col-span-2 gap-1"},z={class:"flex mb-1"},A={class:"flex lg:flex-nowrap gap-1 justify-between"},G={class:"grid grid-cols-2 gap-2"},R={class:"grid lg:grid-cols-3 my-1"},F={class:"grid lg:grid-cols-2 gap-1 mb-1"},H={class:"grid grid-cols-3 gap-1"},W={class:"border border-[#a9a7b1] border-l-4 border-l-primary flex justify-between px-2 rounded"},J=a("span",null,"Cantidad",-1),X={class:"border border-[#a9a7b1] border-l-4 border-l-primary flex justify-between px-2 rounded"},Z=a("span",null,"Maternidad",-1),ee={class:"lg:max-w-full max-w-[350px]"},te={class:"grid lg:grid-cols-1 gap-1"},se={class:"flex flex-col w-full gap-1"},ae={class:"grid lg:grid-cols-1 gap-1"},le={class:"flex flex-col w-full gap-1"},ie={class:"grid lg:grid-cols-1 gap-1"},oe={class:"flex flex-col w-full gap-1"},ne={class:"grid grid-cols-1 gap-1"},de={class:"flex flex-col w-full gap-1"},re={class:"grid grid-cols-1 gap-1"},ue={class:"flex flex-col w-full gap-1"},pe={__name:"chart-chequeos-ejectivos",setup(_e){const{t:w}=V(),c={timePeriods:k.map(o=>({label:w(o),value:o})),event_state:[{label:"Todos",value:2},{label:"Finalizadas",value:1},{label:"Pendientes",value:0}]},x=D(new Date),P=L(x,"MMMM",{locale:Y}),$=M(new Date),C=U("$api"),e=B({tab:"provider",$event_state_id:0,timePeriod:"all",initialPagination:{sortBy:"quantity",descending:!0,page:1,rowsPerPage:10},timeout:null,dialogEventWrite:!1,selectedEventId:0,loading:!0,first:!0,update:1,day:$,stats:{},diagnosis:[],dailyList:[],eventStateList:[],userList:[],treatment:[],month:P,start:"all",query:{group_by:"t_event.id",where:{"ne:$event_state_id":"40",user_id:null,$event_type_id:[],request_date:{from:null,to:null},c_status:[4]}}});m(()=>e.timePeriod,o=>{Q(o,e.query,"request_date"),n()}),m(()=>e.query.where.user_id,o=>{n()}),m(()=>e.$event_state_id,o=>{o===2?(e.query.where["ne:$event_state_id"]=null,e.query.where.$event_state_id=null):o===1?(e.query.where.$event_state_id=40,e.query.where["ne:$event_state_id"]=null):(e.query.where.$event_state_id=null,e.query.where["ne:$event_state_id"]=40),n()});async function n(){e.stats=await C.get("event/stats",{params:e.query}),console.log(e.stats),++e.update,e.loading=!1}return S(()=>{n()}),(o,s)=>e.loading?O("",!0):(d(),j("div",T,[a("div",K,[a("div",z,[t(y,{class:"flex",size:"sm",modelValue:e.timePeriod,"onUpdate:modelValue":s[0]||(s[0]=l=>e.timePeriod=l),"toggle-color":"secondary","toggle-text-color":"text-font",options:c.timePeriods,type:"radio"},null,8,["modelValue","options"])]),a("div",A,[a("div",G,[t(b,{class:"min-w-[150px]",dense:"",outlined:"",modelValue:e.query.where.request_date.from,"onUpdate:modelValue":s[3]||(s[3]=l=>e.query.where.request_date.from=l),mask:"##-##-####"},{append:i(()=>[t(g,{name:"event",class:"cursor-pointer"},{default:i(()=>[t(f,{ref:"proxy"},{default:i(()=>[t(q,{flat:"",modelValue:e.query.where.request_date.from,"onUpdate:modelValue":[s[1]||(s[1]=l=>e.query.where.request_date.from=l),s[2]||(s[2]=l=>{o.$refs.proxy.hide(),n()})],"no-unset":"","years-in-month-view":"",minimal:"",mask:"DD-MM-YYYY"},null,8,["modelValue"])]),_:1},512)]),_:1})]),_:1},8,["modelValue"]),t(b,{class:"min-w-[150px]",dense:"",outlined:"",modelValue:e.query.where.request_date.to,"onUpdate:modelValue":s[6]||(s[6]=l=>e.query.where.request_date.to=l),mask:"##-##-####"},{append:i(()=>[t(g,{name:"event",class:"cursor-pointer"},{default:i(()=>[t(f,{ref:"proxy"},{default:i(()=>[t(q,{flat:"",modelValue:e.query.where.request_date.to,"onUpdate:modelValue":[s[4]||(s[4]=l=>e.query.where.request_date.to=l),s[5]||(s[5]=l=>{o.$refs.proxy.hide(),n()})],"no-unset":"","years-in-month-view":"",minimal:"",mask:"DD-MM-YYYY"},null,8,["modelValue"])]),_:1},512)]),_:1})]),_:1},8,["modelValue"])]),t(y,{class:"flex",modelValue:e.$event_state_id,"onUpdate:modelValue":s[7]||(s[7]=l=>e.$event_state_id=l),options:c.event_state},null,8,["modelValue","options"])]),a("div",R,[t(E,{onSetUser:s[8]||(s[8]=l=>e.query.where.user_id=l),onClearUser:s[9]||(s[9]=l=>e.query.where.user_id=null),"model-value":e.user_description,label:"Coordinador",unixroles:24,"onUpdate:modelValue":s[10]||(s[10]=l=>n())},null,8,["model-value"])]),a("div",F,[a("div",H,[a("div",W,[J,a("span",null,h(e.stats.e.quantity),1)]),a("div",X,[Z,a("span",null,h(e.stats.e.pregnant),1)])])]),a("div",ee,[t(I,{modelValue:e.tab,"onUpdate:modelValue":s[11]||(s[11]=l=>e.tab=l),dense:"",class:"text-grey mb-1","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:i(()=>[t(r,{name:"provider",label:"Proveedores"}),t(r,{name:"country",label:"Pa\xEDs"}),t(r,{name:"city",label:"Ciudades"}),t(r,{name:"state",label:"Estado"}),t(r,{name:"user",label:"Coordinador"})]),_:1},8,["modelValue"])]),t(N,{class:"p-0",modelValue:e.tab,"onUpdate:modelValue":s[12]||(s[12]=l=>e.tab=l),animated:""},{default:i(()=>[t(u,{class:"p-0",name:"provider"},{default:i(()=>[a("div",te,[a("div",se,[(d(),_(v,{key:e.update,data:e.stats.e.providerList,name:"label",value:"value",title:"Chequeos Preventivos",subtitle:"Chequeos Preventivos"},null,8,["data"])),t(p,{list:e.stats.e.providerList,title:"Chequeos Preventivos",stats:e.stats.e,type:"provider_description",columnKey:"provider_description",hideBtn:"",event_state_id:e.$event_state_id,quantity:e.stats.e.quantity},null,8,["list","stats","event_state_id","quantity"])])])]),_:1}),t(u,{class:"p-0",name:"state"},{default:i(()=>[a("div",ae,[a("div",le,[(d(),_(v,{key:e.update,data:e.stats.e.eventStateList,name:"label",value:"value",title:"Coordinaciones por Estado",subtitle:"Coordinaciones"},null,8,["data"])),t(p,{list:e.stats.e.eventStateList,title:"COORDINACIONES",stats:e.stats.c,type:"event_state",columnKey:"event_state",hideBtn:"",event_state_id:e.$event_state_id,quantity:e.stats.e.quantity},null,8,["list","stats","event_state_id","quantity"])])])]),_:1}),t(u,{class:"p-0",name:"user"},{default:i(()=>[a("div",ie,[a("div",oe,[(d(),_(v,{key:e.update,data:e.stats.e.users,name:"label",value:"value",title:"Coordinaciones por Usuario",subtitle:"Coordinaciones"},null,8,["data"])),t(p,{list:e.stats.e.users,title:"COORDINACIONES",stats:e.stats.c,type:"user_description",columnKey:"user_description",hideBtn:"",event_state_id:e.$event_state_id,quantity:e.stats.e.quantity},null,8,["list","stats","event_state_id","quantity"])])])]),_:1}),t(u,{class:"p-0",name:"country"},{default:i(()=>[a("div",ne,[a("div",de,[(d(),_(v,{key:e.update,data:e.stats.e.countryList,name:"label",value:"value",title:"Chequeos Preventivos por Pa\xEDs",subtitle:"Chequeos Preventivos"},null,8,["data"])),t(p,{list:e.stats.e.countryList,title:"Chequeos Preventivos",name:"Paises",stats:e.stats.e,type:"country",columnKey:"country",hideBtn:"",event_state_id:e.$event_state_id,quantity:e.stats.e.quantity},null,8,["list","stats","event_state_id","quantity"])])])]),_:1}),t(u,{class:"p-0",name:"city"},{default:i(()=>[a("div",re,[a("div",ue,[(d(),_(v,{key:e.update,data:e.stats.e.cityList,name:"label",value:"value",title:"Chequeos Preventivos por Ciudad",subtitle:"Chequeos Preventivos"},null,8,["data"])),t(p,{list:e.stats.e.cityList,title:"Chequeos Preventivos",name:"Ciudades",stats:e.stats.e,type:"city",columnKey:"city",hideBtn:"",event_state_id:e.$event_state_id,quantity:e.stats.e.quantity},null,8,["list","stats","event_state_id","quantity"])])])]),_:1})]),_:1},8,["modelValue"])])]))}};export{pe as default};
